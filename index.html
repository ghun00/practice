<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>carrot_practice</title>
    <link rel="stylesheet" href="/codePractice2/videoStyle.css" />
    <link rel="stylesheet" href="/practice/videoStyle.css" />
    <link rel="stylesheet" href="/codePractice/font.css" />
    <link rel="stylesheet" href="/practice/font.css" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <link
      rel="icon"
      href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcScuzgG3X_sOJSrS_sw8Z3nBMPHDbFst92deQ&s"
    />
  </head>
  <body>
    <header class="mobile-header">
      <div class="header-container">
        <a href="/" class="logo"> Carrot </a>
        <a class="icon-menu" href="#">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </a>
      </div>
      <div class="menu-content">
        <ul>
          <li><a href="#" class="section">캐럿 서비스 소개</a></li>
          <li><a href="#" class="section">캐럿 보상 서비스</a></li>
          <li><a href="#" class="section">캐럿 기업 보험 가입</a></li>
        </ul>
      </div>
    </header>
    <div class="hero">
      <video class="hero__video" autoplay loop muted>
        <source
          src="https://cdn1.carrotins.com/model/kyj/home/pc-home-wide-v4.mp4"
          type="video/mp4"
        />
      </video>
      <div class="hero__content">
        <h1 class="hero__title">캐롯 보험으로 오세요<br />by 지훈</h1>
      </div>
    </div>

    <main>
      <div class="main-section white">
        <p class="content_title" data-aos="fade-up">캐롯 보험 누적 가입 건수</p>
        <p class="content_sub" data-aos="fade-up">2024년 기준</p>
        <p class="number big" data-start="0" data-end="1573029">0</p>
      </div>
      <div class="main-section mainColor">
        <p class="content_title-white" data-aos="fade-up">
          캐롯을 선택한 수많은 이유들
        </p>
        <p class="content_sub-white" data-aos="fade-up">
          캐롯을 선택할 수 밖에 없는 다양한 목소리
        </p>
        <div class="card-slide slick-slider">
          <div class="item-box slick-slide">
            <div class="item-wrap">
              <p class="item-title">실제 후기</p>
              <p class="item-content">
                실제 자동차 사용이 많지 않은데 합리적인 가격으로 가입할 수
                있다는 점이 너무 좋았어요. 긴급 출동도 문제 없고, 너무 만족
                합니다. 앞으로도 계속 쓸 것 같아요!
              </p>
              <p class="item-sub">2024.04.12</p>
            </div>
          </div>
          <div class="item-box slick-slide">
            <div class="item-wrap">
              <p class="item-title">실제 후기</p>
              <p class="item-content">
                5년째 가입중입니다! 실제 탄 만큼만 분납하고 있어요. 긴급 출동도
                다른 보험사와 비교했을 때 빨랐어요!
              </p>
              <p class="item-sub">2024.04.12</p>
            </div>
          </div>
          <div class="item-box slick-slide">
            <div class="item-wrap">
              <p class="item-title">실제 후기</p>
              <p class="item-content">
                타 보험사 대비 혜택도 많고 무엇보다 고윤정님이 대표 모델이라는
                것이 굉장히 좋았습니다. 저희 가족 모두 캐롯으로 바꿨습니다~~
              </p>
              <p class="item-sub">2024.04.12</p>
            </div>
          </div>
        </div>
      </div>

      <p>애니메이션 용 p 태그 입니다.</p>
      <p>애니메이션 용 p 태그 입니다.</p>
      <p>애니메이션 용 p 태그 입니다.</p>
    </main>

    <!-- 상단 메뉴 애니메이션 -->
    <script>
      $(document).ready(function () {
        const menuIcon = $(".icon-menu");
        const menuContent = $(".menu-content");

        menuContent.hide();

        menuIcon.click(function (e) {
          e.preventDefault();
          menuIcon.toggleClass("active");
          menuContent.toggleClass("active");

          if (menuContent.hasClass("active")) {
            menuContent.slideDown("500");
            // 문서 전체 클릭 이벤트 핸들러 추가
            $(document).on("click", function (event) {
              // 메뉴 컨텐츠 영역 외부를 클릭한 경우
              if (!$(event.target).closest(".mobile-header").length) {
                // 메뉴 컨텐츠 숨기기
                menuIcon.removeClass("active");
                menuContent.removeClass("active").slideUp("500");
                // 문서 전체에 설정된 클릭 이벤트 핸들러 제거
                $(document).off("click");
              }
            });
          } else {
            menuContent.slideUp("500");
          }
        });
      });
    </script>
    <!-- 숫자 카운트 되는 jquery -->
    <script>
      $(document).ready(function () {
        // 클래스가 "number"인 모든 요소를 선택합니다.
        const $counters = $(".number");

        // 노출 비율(%)과 애니메이션 속도(ms)을 설정합니다.
        const exposurePercentage = 90; // ex) 스크롤 했을 때 $counters 컨텐츠가 화면에 100% 노출되면 숫자가 올라갑니다.
        const duration = 2000; // ex) 1000 = 1초

        // 숫자에 쉼표를 추가할지 여부를 설정합니다.
        const addCommas = true;

        // 숫자를 업데이트하고 애니메이션하는 함수 정의
        function updateCounter($el, start, end) {
          let startTime;
          function animateCounter(timestamp) {
            if (!startTime) startTime = timestamp;
            const progress = (timestamp - startTime) / duration;
            const current = Math.round(start + progress * (end - start));
            const formattedNumber = addCommas
              ? current.toLocaleString()
              : current;
            $el.text(formattedNumber);

            if (progress < 1) {
              requestAnimationFrame(animateCounter);
            } else {
              $el.text(addCommas ? end.toLocaleString() : end);
            }
          }
          requestAnimationFrame(animateCounter);
        }

        // 윈도우 스크롤 이벤트 모니터링
        $(window)
          .on("scroll", function () {
            // 각 "number" 요소에 대해 반복합니다.
            $counters.each(function () {
              const $el = $(this);
              // 요소가 아직 스크롤되지 않았다면 처리합니다.
              if (!$el.data("scrolled")) {
                // 요소의 위치 정보를 가져옵니다.
                const rect = $el[0].getBoundingClientRect();
                const winHeight = window.innerHeight;
                const contentHeight = rect.bottom - rect.top;

                // 요소가 화면에 특정 비율만큼 노출될 때 처리합니다.
                if (
                  rect.top <=
                    winHeight - (contentHeight * exposurePercentage) / 100 &&
                  rect.bottom >= (contentHeight * exposurePercentage) / 100
                ) {
                  const start = parseInt($el.data("start"));
                  const end = parseInt($el.data("end"));
                  // 숫자를 업데이트하고 애니메이션을 시작합니다.
                  updateCounter($el, start, end);
                  $el.data("scrolled", true);
                }
              }
            });
          })
          .scroll();
      });
    </script>

    <!-- slick slider 적용 -->
    <script
      type="text/javascript"
      src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"
    ></script>
    <script>
      $(".slick-slider").slick({
        centerMode: true,
        centerPadding: "60px",
        slidesToShow: 3,
        autoplay: true,
        responsive: [
          {
            breakpoint: 768,
            settings: {
              arrows: false,
              centerMode: true,
              centerPadding: "40px",
              slidesToShow: 3,
            },
          },
          {
            breakpoint: 480,
            settings: {
              arrows: false,
              centerMode: true,
              centerPadding: "40px",
              slidesToShow: 1,
            },
          },
        ],
      });
    </script>

    <!-- aos 라이브러리 코드 -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
  </body>
</html>
